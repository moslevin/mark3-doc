<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mark3 Realtime Kernel: Mark3::ReaderWriterLock Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mark3 Realtime Kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_mark3_1_1_reader_writer_lock.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_mark3_1_1_reader_writer_lock-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Mark3::ReaderWriterLock Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_mark3_1_1_reader_writer_lock.html" title="The ReaderWriterLock class This class implements an object that marshalls access to a resource based ...">ReaderWriterLock</a> class This class implements an object that marshalls access to a resource based on the intended usage of the resource. A reader-writer lock permits multiple concurrent read access, or single-writer access to a resource. If the object holds a write lock, other writers, and all readers will block until the writer is finished. If the object holds reader locks, all writers will block until all readers are finished before the first writer can take ownership of the resource. This is based upon lower-level synchronization primatives, and is somewhat more heavyweight than primative synchronization types.  
 <a href="class_mark3_1_1_reader_writer_lock.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="readerwriter_8h_source.html">readerwriter.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa18c126a4ae6c3abc791a8f56a02d86a"><td class="memItemLeft" align="right" valign="top"><a id="aa18c126a4ae6c3abc791a8f56a02d86a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#aa18c126a4ae6c3abc791a8f56a02d86a">Init</a> ()</td></tr>
<tr class="memdesc:aa18c126a4ae6c3abc791a8f56a02d86a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init Initialize the reader-writer lock before use. Must be called before attempting any other operations on the object. <br /></td></tr>
<tr class="separator:aa18c126a4ae6c3abc791a8f56a02d86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79865e7b4b704d5c94eddf9599e653aa"><td class="memItemLeft" align="right" valign="top"><a id="a79865e7b4b704d5c94eddf9599e653aa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a79865e7b4b704d5c94eddf9599e653aa">AcquireReader</a> ()</td></tr>
<tr class="memdesc:a79865e7b4b704d5c94eddf9599e653aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">AcquireReader Acquire the object's reader lock. Multiple concurrent readers are allowed. If the writer lock is currently held, the calling thread will wait until the writer lock is relinquished. <br /></td></tr>
<tr class="separator:a79865e7b4b704d5c94eddf9599e653aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e95a6d85360ad22d3099e99da4cd59"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#ae5e95a6d85360ad22d3099e99da4cd59">AcquireReader</a> (uint32_t u32TimeoutMs_)</td></tr>
<tr class="memdesc:ae5e95a6d85360ad22d3099e99da4cd59"><td class="mdescLeft">&#160;</td><td class="mdescRight">AcquireReader Acquire the object's reader lock. Multiple concurrent readers are allowed. If the writer lock is currently held, the calling thread will wait until the writer lock is relinquished.  <a href="#ae5e95a6d85360ad22d3099e99da4cd59">More...</a><br /></td></tr>
<tr class="separator:ae5e95a6d85360ad22d3099e99da4cd59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223e7b0edd964ece6f0a8f500a691a5c"><td class="memItemLeft" align="right" valign="top"><a id="a223e7b0edd964ece6f0a8f500a691a5c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a223e7b0edd964ece6f0a8f500a691a5c">ReleaseReader</a> ()</td></tr>
<tr class="memdesc:a223e7b0edd964ece6f0a8f500a691a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">ReleaseReader Release a previously-held reader lock. <br /></td></tr>
<tr class="separator:a223e7b0edd964ece6f0a8f500a691a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18759eb27aa7af7c0b783c9835dd48d7"><td class="memItemLeft" align="right" valign="top"><a id="a18759eb27aa7af7c0b783c9835dd48d7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a18759eb27aa7af7c0b783c9835dd48d7">AcquireWriter</a> ()</td></tr>
<tr class="memdesc:a18759eb27aa7af7c0b783c9835dd48d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">AcquireWriter Acquire the writer lock. Only a single writer is allowed to access the object at a time. This will block the currently-runnign thread until all other readers/writers have released their locks. <br /></td></tr>
<tr class="separator:a18759eb27aa7af7c0b783c9835dd48d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2b23b8f00a504714a30b4a7f72b6cc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a7b2b23b8f00a504714a30b4a7f72b6cc">AcquireWriter</a> (uint32_t u32TimeoutMs_)</td></tr>
<tr class="memdesc:a7b2b23b8f00a504714a30b4a7f72b6cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">AcquireWriter Acquire the writer lock. Only a single writer is allowed to access the object at a time. This will block the currently-runnign thread until all other readers/writers have released their locks.  <a href="#a7b2b23b8f00a504714a30b4a7f72b6cc">More...</a><br /></td></tr>
<tr class="separator:a7b2b23b8f00a504714a30b4a7f72b6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7252452ce93d374511c161072978d259"><td class="memItemLeft" align="right" valign="top"><a id="a7252452ce93d374511c161072978d259"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a7252452ce93d374511c161072978d259">ReleaseWriter</a> ()</td></tr>
<tr class="memdesc:a7252452ce93d374511c161072978d259"><td class="mdescLeft">&#160;</td><td class="mdescRight">ReleaseWriter Release the currently held writer, allowing other readers/writers to access the object. <br /></td></tr>
<tr class="separator:a7252452ce93d374511c161072978d259"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a92ced41885cf8ed7f25c6b963c53d6d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a92ced41885cf8ed7f25c6b963c53d6d4">AcquireReader_i</a> (uint32_t u32TimeoutMs_)</td></tr>
<tr class="memdesc:a92ced41885cf8ed7f25c6b963c53d6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">AcquireReader_i Internal helper function for AcquireReaer.  <a href="#a92ced41885cf8ed7f25c6b963c53d6d4">More...</a><br /></td></tr>
<tr class="separator:a92ced41885cf8ed7f25c6b963c53d6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55747367cbe2fffe24978b3f9bb6906a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a55747367cbe2fffe24978b3f9bb6906a">AcquireWriter_i</a> (uint32_t u32TimeoutMs_)</td></tr>
<tr class="memdesc:a55747367cbe2fffe24978b3f9bb6906a"><td class="mdescLeft">&#160;</td><td class="mdescRight">AcquireWriter_i Internal helper function for AcquireWriter.  <a href="#a55747367cbe2fffe24978b3f9bb6906a">More...</a><br /></td></tr>
<tr class="separator:a55747367cbe2fffe24978b3f9bb6906a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3e0d49f4b8fd5369b398e500698e3f25"><td class="memItemLeft" align="right" valign="top"><a id="a3e0d49f4b8fd5369b398e500698e3f25"></a>
<a class="el" href="class_mark3_1_1_mutex.html">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a3e0d49f4b8fd5369b398e500698e3f25">m_clGlobalMutex</a></td></tr>
<tr class="memdesc:a3e0d49f4b8fd5369b398e500698e3f25"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_mark3_1_1_mutex.html">Mutex</a> used to lock the object against concurrent read + write. <br /></td></tr>
<tr class="separator:a3e0d49f4b8fd5369b398e500698e3f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab7378859a0a0562c267f8e88dac5df7"><td class="memItemLeft" align="right" valign="top"><a id="aab7378859a0a0562c267f8e88dac5df7"></a>
<a class="el" href="class_mark3_1_1_mutex.html">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#aab7378859a0a0562c267f8e88dac5df7">m_clReaderMutex</a></td></tr>
<tr class="memdesc:aab7378859a0a0562c267f8e88dac5df7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_mark3_1_1_mutex.html">Mutex</a> used to lock object for readers. <br /></td></tr>
<tr class="separator:aab7378859a0a0562c267f8e88dac5df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b446a7d7524bf62681d49f6dd292ba"><td class="memItemLeft" align="right" valign="top"><a id="a26b446a7d7524bf62681d49f6dd292ba"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mark3_1_1_reader_writer_lock.html#a26b446a7d7524bf62681d49f6dd292ba">m_u8ReadCount</a></td></tr>
<tr class="memdesc:a26b446a7d7524bf62681d49f6dd292ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of concurrent readers. <br /></td></tr>
<tr class="separator:a26b446a7d7524bf62681d49f6dd292ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_mark3_1_1_reader_writer_lock.html" title="The ReaderWriterLock class This class implements an object that marshalls access to a resource based ...">ReaderWriterLock</a> class This class implements an object that marshalls access to a resource based on the intended usage of the resource. A reader-writer lock permits multiple concurrent read access, or single-writer access to a resource. If the object holds a write lock, other writers, and all readers will block until the writer is finished. If the object holds reader locks, all writers will block until all readers are finished before the first writer can take ownership of the resource. This is based upon lower-level synchronization primatives, and is somewhat more heavyweight than primative synchronization types. </p>

<p class="definition">Definition at line <a class="el" href="readerwriter_8h_source.html#l00040">40</a> of file <a class="el" href="readerwriter_8h_source.html">readerwriter.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae5e95a6d85360ad22d3099e99da4cd59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e95a6d85360ad22d3099e99da4cd59">&#9670;&nbsp;</a></span>AcquireReader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Mark3::ReaderWriterLock::AcquireReader </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32TimeoutMs_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AcquireReader Acquire the object's reader lock. Multiple concurrent readers are allowed. If the writer lock is currently held, the calling thread will wait until the writer lock is relinquished. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u32TimeoutMs_</td><td>Maximum time to wait (in ms) before the operation is aborted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on timeout </dd></dl>

<p class="definition">Definition at line <a class="el" href="readerwriter_8cpp_source.html#l00038">38</a> of file <a class="el" href="readerwriter_8cpp_source.html">readerwriter.cpp</a>.</p>

</div>
</div>
<a id="a92ced41885cf8ed7f25c6b963c53d6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ced41885cf8ed7f25c6b963c53d6d4">&#9670;&nbsp;</a></span>AcquireReader_i()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Mark3::ReaderWriterLock::AcquireReader_i </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32TimeoutMs_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>AcquireReader_i Internal helper function for AcquireReaer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u32TimeoutMs_</td><td>Maximum time to wait (in ms) before the operation is aborted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on timeout </dd></dl>

<p class="definition">Definition at line <a class="el" href="readerwriter_8cpp_source.html#l00073">73</a> of file <a class="el" href="readerwriter_8cpp_source.html">readerwriter.cpp</a>.</p>

</div>
</div>
<a id="a7b2b23b8f00a504714a30b4a7f72b6cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2b23b8f00a504714a30b4a7f72b6cc">&#9670;&nbsp;</a></span>AcquireWriter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Mark3::ReaderWriterLock::AcquireWriter </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32TimeoutMs_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AcquireWriter Acquire the writer lock. Only a single writer is allowed to access the object at a time. This will block the currently-runnign thread until all other readers/writers have released their locks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u32TimeoutMs_</td><td>Maximum time to wait (in ms) before the operation is aborted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on timeout </dd></dl>

<p class="definition">Definition at line <a class="el" href="readerwriter_8cpp_source.html#l00061">61</a> of file <a class="el" href="readerwriter_8cpp_source.html">readerwriter.cpp</a>.</p>

</div>
</div>
<a id="a55747367cbe2fffe24978b3f9bb6906a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55747367cbe2fffe24978b3f9bb6906a">&#9670;&nbsp;</a></span>AcquireWriter_i()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Mark3::ReaderWriterLock::AcquireWriter_i </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u32TimeoutMs_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>AcquireWriter_i Internal helper function for AcquireWriter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u32TimeoutMs_</td><td>Maximum time to wait (in ms) before the operation is aborted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on timeout </dd></dl>

<p class="definition">Definition at line <a class="el" href="readerwriter_8cpp_source.html#l00090">90</a> of file <a class="el" href="readerwriter_8cpp_source.html">readerwriter.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/moslevin/projects/github/mark3/kernel/src/public/<a class="el" href="readerwriter_8h_source.html">readerwriter.h</a></li>
<li>/home/moslevin/projects/github/mark3/kernel/src/<a class="el" href="readerwriter_8cpp_source.html">readerwriter.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_mark3.html">Mark3</a></li><li class="navelem"><a class="el" href="class_mark3_1_1_reader_writer_lock.html">ReaderWriterLock</a></li>
    <li class="footer">Generated on Thu Mar 7 2019 19:45:17 for Mark3 Realtime Kernel by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
